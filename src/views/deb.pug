doctype html
html(lang=langCode)
  head
    title Electerm Debian Repository
    meta(name='description', content='Official Debian repository for Electerm terminal application')
    meta(name='keywords', content='electerm,debian,repository,apt,setup,install,linux,terminal,ssh')
    include ./parts/react-header
    style.
      .code-block{
          background:#f8f9fa;
          border:1px solid #e9ecef;
          border-radius:8px;
          padding:20px;
          margin:15px 0;
          overflow-x:auto;
          font-family:'Courier New',monospace;
          font-size:14px;
          line-height:1.5;
          position:relative;
      }

      .copy-button{
          position:absolute;
          top:10px;
          right:10px;
          background:#f8f9fa;
          color:#6c757d;
          border:1px solid #dee2e6;
          border-radius:4px;
          padding:6px 12px;
          font-size:12px;
          cursor:pointer;
          opacity:0.7;
          transition:all 0.2s ease;
          z-index:10;
      }
      
      .copy-button:hover{
          opacity:1;
          background:#e9ecef;
          color:#495057;
      }
      
      .copy-button:active{
          transform:scale(0.95);
      }
      
      .copy-button.copied{
          background:#d1ecf1;
          color:#0c5460;
          border-color:#bee5eb;
      }
      
      .install-card{
          background:#fff;
          border:1px solid #e9ecef;
          border-radius:8px;
          padding:25px;
          margin:20px 0;
          box-shadow:0 2px 10px rgba(0,0,0,0.1);
          transition:all 0.3s ease;
      }

      .install-card:hover{
          box-shadow:0 4px 20px rgba(0,0,0,0.15);
      }
      
      .step-number{
          background:linear-gradient(45deg,#007bff 0%,#28a745 100%);
          color:white;
          width:30px;
          height:30px;
          border-radius:50%;
          display:inline-flex;
          align-items:center;
          justify-content:center;
          font-weight:bold;
          font-size:16px;
          margin-right:12px;
          vertical-align:middle;
      }
      
      .warning{
          background:#fff3cd;
          border:1px solid #ffeaa7;
          border-radius:8px;
          padding:15px;
          margin:15px 0;
          color:#856404;
      }
      
      .success{
          background:#d4edda;
          border:1px solid #c3e6cb;
          border-radius:8px;
          padding:15px;
          margin:15px 0;
          color:#155724;
      }
      
      .info{
          background:#d1ecf1;
          border:1px solid #bee5eb;
          border-radius:8px;
          padding:15px;
          margin:15px 0;
          color:#0c5460;
      }

      .architecture-badge{
          background:#6c757d;
          color:white;
          padding:4px 8px;
          border-radius:4px;
          font-size:12px;
          font-weight:bold;
          margin-left:10px;
      }
      
      .link-button{
          display:inline-block;
          background:linear-gradient(45deg,#007bff 0%,#28a745 100%);
          color:white;
          text-decoration:none;
          padding:10px 20px;
          border-radius:6px;
          font-weight:600;
          transition:all 0.3s ease;
          margin:5px;
      }
      
      .link-button:hover{
          background:#333;
          color:white;
          text-decoration:none;
      }
      
      .download-section{
          background:#f8f9fa;
          border:1px solid #e9ecef;
          border-radius:8px;
          padding:20px;
          margin:20px 0;
      }
      
      .package-list{
          background:#fff;
          border:1px solid #dee2e6;
          border-radius:6px;
          padding:15px;
          margin:10px 0;
      }
      
      .nav-links{
          text-align:right;
          padding:10px 0;
      }
      
      .nav-links a{
          color:#666;
          text-decoration:none;
          margin:0 10px;
          font-size:14px;
      }
      
      .nav-links a:hover{
          color:#333;
      }

      .status-section{
          display:grid;
          grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));
          gap:20px;
          margin:20px 0;
      }
      
      .status-card{
          background:#fff;
          border:1px solid #e9ecef;
          border-radius:8px;
          padding:20px;
          text-align:center;
      }

      .status-indicator{
          width:12px;
          height:12px;
          border-radius:50%;
          display:inline-block;
          margin-right:8px;
      }

      .status-online{
          background:#28a745;
      }

      .status-building{
          background:#ffc107;
      }

      @media (max-width: 768px){
          .install-card{
              padding:15px;
          }
          .step-number{
              width:25px;
              height:25px;
              font-size:14px;
          }
          .status-section{
              grid-template-columns:1fr;
          }
      }

  body
    #content
      .pd2
        include ./parts/title
        //- include ./parts/badge
        include ./parts/deb
        include ./parts/download
        include ./parts/container
        include ./parts/react-common
    #container

    //- Copy to Clipboard Script
    script.
      function copyToClipboard(button) {
          // Find the pre element that's a sibling of the button
          const codeBlock = button.parentElement;
          const preElement = codeBlock.querySelector('pre');

          if (!preElement) {
              console.error('No pre element found');
              return;
          }
          
          // Get the text content from the pre element
          const textToCopy = preElement.textContent || preElement.innerText;
          
          // Use the modern Clipboard API if available
          if (navigator.clipboard && window.isSecureContext) {
              navigator.clipboard.writeText(textToCopy).then(() => {
                  showCopySuccess(button);
              }).catch(err => {
                  console.error('Failed to copy using Clipboard API:', err);
                  fallbackCopyToClipboard(textToCopy, button);
              });
          } else {
              // Fallback for older browsers or non-secure contexts
              fallbackCopyToClipboard(textToCopy, button);
          }
      }
      
      function fallbackCopyToClipboard(text, button) {
          // Create a temporary textarea element
          const textArea = document.createElement('textarea');
          textArea.value = text;
          textArea.style.position = 'fixed';
          textArea.style.left = '-999999px';
          textArea.style.top = '-999999px';
          document.body.appendChild(textArea);
          textArea.focus();
          textArea.select();
          
          try {
              const successful = document.execCommand('copy');
              if (successful) {
                  showCopySuccess(button);
              } else {
                  showCopyError(button);
              }
          } catch (err) {
              console.error('Fallback copy failed:', err);
              showCopyError(button);
          }
          
          document.body.removeChild(textArea);
      }
      
      function showCopySuccess(button) {
          const originalText = button.textContent;
          button.textContent = 'Copied!';
          button.classList.add('copied');
          
          setTimeout(() => {
              button.textContent = originalText;
              button.classList.remove('copied');
          }, 2000);
      }
      
      function showCopyError(button) {
          const originalText = button.textContent;
          button.textContent = 'Error';
          button.style.background = '#f8d7da';
          button.style.color = '#721c24';
          button.style.borderColor = '#f5c6cb';
          
          setTimeout(() => {
              button.textContent = originalText;
              button.style.background = '#f8f9fa';
              button.style.color = '#6c757d';
              button.style.borderColor = '#dee2e6';
          }, 2000);
      }



    include ./parts/react-footer
